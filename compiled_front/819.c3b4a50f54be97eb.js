"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[819],{2819:(x,m,l)=>{l.r(m),l.d(m,{DashboardModule:()=>Y});var d=l(6019),u=l(9845),s=l(7537),g=l(8154),t=l(1514);let p=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"home-footer"],[1,"row","h-100"],[1,"col-4","h-100","d-flex","align-items-center","justify-content-center"],[1,"zmdi","zmdi-home","zmdi-hc-lg","mr-2"],[1,"zmdi","zmdi-phone","zmdi-hc-lg","mr-2"],[1,"zmdi","zmdi-email","zmdi-hc-lg","mr-2"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"i",3),t._uU(4," P. Sherman calle wallaby #42 Sidney "),t.qZA(),t.TgZ(5,"div",2),t._UZ(6,"i",4),t._uU(7," 3344556677 "),t.qZA(),t.TgZ(8,"div",2),t._UZ(9,"i",5),t._uU(10," vaiz.proyecto@gmail.com "),t.qZA(),t.qZA(),t.qZA())},styles:[".home-footer[_ngcontent-%COMP%]{background-color:#c2e6fd;height:9vh;min-height:60px;box-shadow:0 -2px 4px 1px #ddd!important;position:fixed;width:100%;bottom:0}"]}),o})(),h=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.u5,d.ez,s.UX,g.B]]}),o})();var v=l(7754),T=l(7477),b=l(9853);function C(o,c){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",27),t.NdJ("click",function(){return t.CHM(e),t.MAs(3).click()}),t.TgZ(2,"input",24,28),t.NdJ("change",function(i){const r=t.CHM(e).$implicit;return t.oxw(3).OnSubcategoryFilterChange(i,r)}),t.qZA(),t.TgZ(4,"span",26),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=c.$implicit;t.xp6(5),t.Oqu(e.name)}}function A(o,c){if(1&o&&(t.ynx(0),t.YNc(1,C,6,1,"ng-container",9),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.subcategories)}}function F(o,c){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",23),t.NdJ("click",function(){return t.CHM(e),t.MAs(3).click()}),t.TgZ(2,"input",24,25),t.NdJ("change",function(i){const r=t.CHM(e).$implicit;return t.oxw().OnCategoryFilterChange(i,r)}),t.qZA(),t.TgZ(4,"span",26),t._uU(5),t.qZA(),t.qZA(),t.YNc(6,A,2,1,"ng-container",22),t.BQk()}if(2&o){const e=c.$implicit;t.xp6(5),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.subcategories?null:e.subcategories.length)&&e.checked)}}function y(o,c){if(1&o&&t._UZ(0,"img",46),2&o){const e=t.oxw().$implicit,n=t.oxw(3);t.Q6J("src",n.http.apiBaseUrl+e.images[0].partialURL,t.LSH)("alt",e.images[0].name)}}function q(o,c){1&o&&t._UZ(0,"img",47)}function w(o,c){if(1&o&&(t.TgZ(0,"div",48),t.TgZ(1,"div",49),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij(" $",t.xi3(3,2,e.price,"1.2-2")," "),t.xp6(3),t.hij(" $",t.xi3(6,5,e.offerPrice,"1.2-2")," ")}}function M(o,c){if(1&o&&(t.TgZ(0,"div",50),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij(" $",t.xi3(3,1,e.price,"1.2-2")," ")}}function k(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",51),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(3).cart.AddProduct(i)}),t.TgZ(2,"span"),t._uU(3," A\xf1adir "),t.qZA(),t._UZ(4,"i",52),t.qZA(),t.qZA()}}function O(o,c){if(1&o&&(t.TgZ(0,"div",32),t.TgZ(1,"div",33),t.TgZ(2,"div",34),t.YNc(3,y,1,2,"img",35),t.YNc(4,q,1,0,"img",36),t.qZA(),t.TgZ(5,"div",37),t.TgZ(6,"div",38),t._uU(7),t.qZA(),t.TgZ(8,"div",39),t._uU(9),t._UZ(10,"div",40),t.qZA(),t.TgZ(11,"div",41),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"div",42),t.TgZ(14,"div",43),t.YNc(15,w,7,8,"div",44),t.YNc(16,M,4,4,"div",45),t.YNc(17,k,5,0,"div",22),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=c.$implicit,n=t.oxw(3);t.xp6(3),t.Q6J("ngIf",null==e||null==e.images?null:e.images.length),t.xp6(1),t.Q6J("ngIf",e.activeOffer),t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(3),t.hij(" ",null==e.category?null:e.category.name," "),t.xp6(3),t.Q6J("ngIf",e.activeOffer),t.xp6(1),t.Q6J("ngIf",!e.activeOffer),t.xp6(1),t.Q6J("ngIf",!n.cart.GetProductFormCart(e)||!0)}}function D(o,c){if(1&o&&(t.TgZ(0,"div",30),t.YNc(1,O,18,8,"div",31),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.products)}}function I(o,c){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,D,2,1,"div",29),t.qZA()),2&o){const e=t.oxw(),n=t.MAs(25);t.xp6(1),t.Q6J("ngIf",null==e.products?null:e.products.length)("ngIfElse",n)}}function J(o,c){1&o&&(t.TgZ(0,"div",53),t.TgZ(1,"div",54),t._UZ(2,"i",55),t.qZA(),t.qZA())}function U(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij('No se encontraron coincidencias para "',e.txtToFilter,'"')}}function z(o,c){if(1&o&&(t.TgZ(0,"div",56),t.YNc(1,U,2,1,"span",22),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.txtToFilter||e.categoryToFilter)}}function N(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){return t.CHM(e),t.MAs(2).click()}),t.TgZ(1,"input",76,77),t.NdJ("change",function(i){const r=t.CHM(e).$implicit;return t.oxw(3).OnFilterChange(i,r)}),t.qZA(),t.TgZ(3,"span",26),t._uU(4),t.qZA(),t.qZA()}if(2&o){const e=c.$implicit;t.xp6(1),t.Q6J("checked",e.checked),t.xp6(3),t.Oqu(e.value)}}function P(o,c){if(1&o&&(t.TgZ(0,"div",73),t.TgZ(1,"label",74),t._uU(2),t.qZA(),t.YNc(3,N,5,2,"div",75),t.qZA()),2&o){const e=c.$implicit;t.xp6(2),t.Oqu(e.label),t.xp6(1),t.Q6J("ngForOf",e.values)}}function S(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",57),t.TgZ(1,"div",58),t.TgZ(2,"h3",59),t._uU(3,"Filtros"),t.qZA(),t.TgZ(4,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw().modal.CloseModal()}),t.TgZ(5,"span"),t._uU(6,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",61),t.TgZ(8,"div",53),t.TgZ(9,"div",62),t.TgZ(10,"div",53),t.TgZ(11,"div",62),t.TgZ(12,"label",63),t._uU(13,"Precio"),t.qZA(),t.qZA(),t.TgZ(14,"div",64),t.TgZ(15,"div",65),t.TgZ(16,"label",66),t._uU(17,"M\xednimo"),t.qZA(),t.TgZ(18,"input",67),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().filters.minPrice=i}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",64),t.TgZ(20,"div",65),t.TgZ(21,"label",68),t._uU(22,"M\xe1ximo"),t.qZA(),t.TgZ(23,"input",69),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().filters.maxPrice=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,P,4,2,"div",70),t.qZA(),t.qZA(),t.TgZ(25,"div",71),t.TgZ(26,"button",72),t.NdJ("click",function(){return t.CHM(e),t.oxw().GetOfferedProducts()}),t._uU(27," Filtrar "),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(18),t.Q6J("ngModel",e.filters.minPrice),t.xp6(5),t.Q6J("ngModel",e.filters.maxPrice),t.xp6(1),t.Q6J("ngForOf",e.filtersToShow)}}function E(o,c){1&o&&t._UZ(0,"app-footer")}const Q=[{path:"",component:(()=>{class o{constructor(e,n,i){this.http=e,this.cart=n,this.modal=i,this.txtToFilter="",this.categoryToFilter=null,this.timer=null,this.products=[],this.categories=[],this.filtersToShow=[],this.loading={getting:!1},this.filters={minPrice:null,maxPrice:null}}ngOnInit(){this.GetCategories(),this.GetOfferedProducts()}GetCategories(){this.http.Get("/Categories").subscribe(e=>{this.categories=e},e=>{console.error("Error al obtener las categor\xedas",e)})}GetOfferedProducts(){this.modal.CloseModal(),this.loading.getting=!0;const e=this.txtToFilter?this.txtToFilter:"*",n=this.categories.filter(a=>a.checked).map(a=>a.id),i=this.categories.map(a=>a.subcategories.filter(r=>r.checked).map(r=>r.id)).reduce((a,r)=>a.concat(r),[]);this.filters.productsFilters=this.filtersToShow.map(a=>({categoryFilterId:a.categoryFilterId,values:a.values.filter(r=>r.checked).map(r=>r.value)})),this.http.Get(`/Products/OfferedThatIncludes/${e}/AndCategories/${JSON.stringify(n)}/AndSubcategories/${JSON.stringify(i)}/AndFilters/${JSON.stringify(this.filters)}/AsCostumer/1`).subscribe(a=>{this.products=a,this.loading.getting=!1},a=>{console.error("Error al obtener las ofertas",a),this.loading.getting=!1})}SetSearchTrigger(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.GetOfferedProducts()},300)}OnCategoryFilterChange(e,n){if(e&&e.target){const i=e.target.checked;n.checked=i,i?this.SetFiltersOfCategory(n):this.RemoveFiltersOfCategory(n),this.SetSearchTrigger()}}OnSubcategoryFilterChange(e,n){e&&e.target&&(n.checked=e.target.checked,this.SetSearchTrigger())}OnFilterChange(e,n){e&&e.target&&(n.checked=e.target.checked)}RemoveFiltersOfCategory(e){e.filters.forEach(n=>{const i=n.productsFilters&&n.productsFilters.length?n.productsFilters[0].categoryFilterId:0,a=this.filtersToShow.findIndex(r=>r.categoryFilterId==i);-1!=a&&this.filtersToShow.splice(a,1)})}SetFiltersOfCategory(e){e.filters.forEach(n=>{const i=n.productsFilters.map(r=>r.value.replace(/[ \_\-]/g,"").toUpperCase()).reduce((r,_)=>{let Z=!1;return r.forEach($=>{$==_&&(Z=!0)}),Z?r:r.concat(_)},[]).map(r=>({value:r,checked:!1})),a={label:n.formName,categoryFilterId:n.productsFilters&&n.productsFilters.length?n.productsFilters[0].categoryFilterId:0,values:i};this.filtersToShow.find(r=>r.categoryFilterId==a.categoryFilterId)||this.filtersToShow.push(a)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.O),t.Y36(T.N),t.Y36(b.Z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:29,vars:5,consts:[[1,"content-with-footer"],[1,"search-header"],[1,"row","justify-content-between"],[1,"col-6","col-sm-4","col-md-3","col-lg-2","order-1","order-sm-0"],["id","categoriesFilterDropdown","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"form-group","d-flex","h-100","align-items-center","justify-content-center","clickeable"],[1,"zmdi","zmdi-caret-down","zmdi-hc-2x","mr-2"],[2,"font-size","1.2rem","font-weight","bold"],["aria-labelledby","categoriesFilterDropdown",1,"dropdown-menu",3,"click"],[1,"menu-list"],[4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","col-md-6","col-lg-8","order-0","order-sm-1"],[1,"form-group","d-flex","h-100","align-items-center"],[1,"input-container","w-100"],[1,"input-icon","zmdi","zmdi-search"],["type","text","placeholder","\xbfQu\xe9 est\xe1 buscando?","maxlength","30",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"col-6","col-sm-4","col-md-3","col-lg-2","order-2","order-sm-2"],[1,"form-group","d-flex","h-100","align-items-center","justify-content-center","clickeable",3,"click"],[1,"zmdi","zmdi-plus-circle-o","zmdi-hc-lg","mr-2"],[4,"ngIf","ngIfElse"],["bigLoading",""],["noItems",""],["filtersModal",""],[4,"ngIf"],[1,"menu-item","clickeable",3,"click"],["type","checkbox",3,"change"],["categoryInput",""],[1,"pl-2"],[1,"menu-item","clickeable","pl-4",3,"click"],["subcategoryInput",""],["class","row mt-3",4,"ngIf","ngIfElse"],[1,"row","mt-3"],["class","col-12 col-sm-6 col-lg-4 col-xl-3 mb-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3","mb-3"],[1,"card","pt-0","px-0","clickeable"],[1,"card-header","p-0","mb-2"],["class","card-image",3,"src","alt",4,"ngIf"],["style","position: absolute; top: 3px; right: 5px; height: 7vh; min-height: 60px;","src","assets/icons/offer-icon.png",4,"ngIf"],[1,"card-body","py-0"],[1,"product-name"],[1,"product-description","position-relative",2,"font-size","1rem"],[1,"product-description-gradient"],[1,"text-right","product-category"],[1,"card-footer","py-0","text-right"],[1,"d-flex","justify-content-between","h-100","align-items-end"],["style","font-size: 1.6rem; font-weight: bold; color: black;",4,"ngIf"],["style","font-size: 1.6rem; font-weight: bold; color: black; margin-top: 1.8rem;",4,"ngIf"],[1,"card-image",3,"src","alt"],["src","assets/icons/offer-icon.png",2,"position","absolute","top","3px","right","5px","height","7vh","min-height","60px"],[2,"font-size","1.6rem","font-weight","bold","color","black"],[1,"text-left",2,"font-size","1.2rem","text-decoration","line-through","color","#888"],[2,"font-size","1.6rem","font-weight","bold","color","black","margin-top","1.8rem"],[1,"btn","btn-warning",3,"click"],[1,"zmdi","zmdi-shopping-cart","ml-1"],[1,"row"],[1,"col-12","col-flex-center"],[1,"zmdi","zmdi-spinner","zmdi-hc-5x","zmdi-hc-spin"],[1,"w-100","text-center",2,"font-size","1.5rem","font-weight","bold"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"close",3,"click"],[1,"modal-body"],[1,"col-12"],["for","priceFilter"],[1,"col-12","col-md-6"],[1,"form-group"],["for","minPrice"],["type","number","placeholder","Precio m\xednimo",1,"form-control",3,"ngModel","ngModelChange"],["for","maxPrice"],["type","number","placeholder","Precio m\xe1ximo",1,"form-control",3,"ngModel","ngModelChange"],["class","col-12 mb-2",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],[1,"col-12","mb-2"],[1,"m-0"],["class","menu-item clickeable",3,"click",4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"],["filterInput",""]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"i",5),t.TgZ(6,"span",6),t._uU(7,"Categor\xedas"),t.qZA(),t.qZA(),t.TgZ(8,"div",7),t.NdJ("click",function(r){return r.stopPropagation()}),t.TgZ(9,"div",8),t.YNc(10,F,7,2,"ng-container",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",10),t.TgZ(12,"div",11),t.TgZ(13,"div",12),t._UZ(14,"i",13),t.TgZ(15,"input",14),t.NdJ("ngModelChange",function(r){return n.txtToFilter=r})("input",function(){return n.SetSearchTrigger()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",15),t.TgZ(17,"div",16),t.NdJ("click",function(){t.CHM(i);const r=t.MAs(27);return n.modal.OpenModal(r)}),t._UZ(18,"i",17),t.TgZ(19,"span",6),t._uU(20,"Filtros"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,I,2,2,"div",18),t.qZA(),t.YNc(22,J,3,0,"ng-template",null,19,t.W1O),t.YNc(24,z,2,1,"ng-template",null,20,t.W1O),t.YNc(26,S,28,3,"ng-template",null,21,t.W1O),t.YNc(28,E,1,0,"app-footer",22)}if(2&e){const i=t.MAs(23);t.xp6(10),t.Q6J("ngForOf",n.categories),t.xp6(5),t.Q6J("ngModel",n.txtToFilter),t.xp6(6),t.Q6J("ngIf",!n.loading.getting)("ngIfElse",i),t.xp6(7),t.Q6J("ngIf",!n.loading.getting)}},directives:[d.sg,s.Fj,s.nD,s.JJ,s.On,d.O5,s.wV,p],pipes:[d.JJ],styles:[".product-category[_ngcontent-%COMP%]{margin:10px 0 0;font-size:1.1rem;color:#000;font-weight:bolder}.product-name[_ngcontent-%COMP%]{text-align:right;font-size:1.2rem;color:#000;font-weight:bold;text-transform:uppercase;margin:6px 0}.product-description[_ngcontent-%COMP%]{font-size:1rem;color:#666;text-align:justify;text-justify:inter-word;height:3.1rem;line-height:1rem;overflow-y:hidden}.product-description-gradient[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:3.1rem;width:100%;background:linear-gradient(180deg,#00000000 60%,#ffffff 100%)!important}.card-image[_ngcontent-%COMP%]{border-radius:12px 12px 0 0;width:100%;height:20vh;min-height:100px;object-fit:cover;object-position:center}.search-header[_ngcontent-%COMP%]{position:sticky;top:9vh;padding:.5rem 0;border-top:none;box-shadow:0 2px 4px #999;z-index:9;background-color:#fff}.menu-list[_ngcontent-%COMP%]{padding:5px 15px}.menu-item[_ngcontent-%COMP%]{list-style-type:none;margin:5px 0;padding:4px 8px}@media (min-width: 992px){.modal-content[_ngcontent-%COMP%]{width:50vw;display:flex;align-self:center}}@media (min-width: 1200px){.modal-content[_ngcontent-%COMP%]{width:50vw;display:flex;align-self:center}}"]}),o})()}];let Y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.u5,d.ez,h,s.UX,u.Bz.forChild(Q)]]}),o})()},9853:(x,m,l)=>{l.d(m,{Z:()=>s});var d=l(1514),u=l(1859);let s=(()=>{class g{constructor(p){this.modalService=p,this.modalRefs=[]}OpenModal(p,f=!0){const h=this.modalService.show(p,{backdrop:"static",keyboard:f});this.modalRefs.push(h)}CloseModal(){this.modalRefs.length&&this.modalRefs.pop().hide()}}return g.\u0275fac=function(p){return new(p||g)(d.LFG(u.tT))},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);